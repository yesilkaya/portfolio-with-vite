<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: src/components/crud/Crud.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: src/components/crud/Crud.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>"use strict";
var __importDefault = (this &amp;&amp; this.__importDefault) || function (mod) {
    return (mod &amp;&amp; mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.CrudScreen = CrudScreen;
const jsx_runtime_1 = require("react/jsx-runtime");
/**
 * @module CrudScreen
 * This module provides a CRUD interface for managing users.
 */
const react_1 = require("react");
const styled_components_1 = __importDefault(require("styled-components"));
const antd_1 = require("antd");
const { Title, Text } = antd_1.Typography;
const API_URL = 'http://localhost:4000/users';
const Container = styled_components_1.default.div `
  max-width: 700px;
  margin: 40px auto;
  padding: 24px;
`;
/**
 * `CrudScreen` bileşeni, kullanıcı CRUD işlemlerini gerçekleştiren bir arayüz sağlar.
 * Kullanıcılar ekleyebilir, güncelleyebilir ve silebilir.
 *
 * Özellikler:
 * - GET: Tüm kullanıcıları listeleme.
 * - POST: Yeni kullanıcı ekleme.
 * - PUT: Mevcut kullanıcıyı güncelleme.
 * - DELETE: Kullanıcı silme.
 *
 * @returns {JSX.Element} CRUD arayüzünü içeren React bileşeni.
 */
function CrudScreen() {
    const [users, setUsers] = (0, react_1.useState)([]);
    const [form] = antd_1.Form.useForm();
    const [editId, setEditId] = (0, react_1.useState)('');
    (0, react_1.useEffect)(() => {
        handleGet();
    }, []);
    const handleGet = async () => {
        try {
            const response = await fetch(API_URL);
            const data = await response.json();
            setUsers(data);
            antd_1.message.success(`GET başarılı (${response.status})`);
        }
        catch (error) {
            antd_1.message.error('GET hatası: ' + error.message);
        }
    };
    const handlePost = async (values) => {
        if (!values.name || !values.email) {
            return antd_1.message.warning('İsim ve e-posta boş olamaz');
        }
        try {
            const response = await fetch(API_URL, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ name: values.name, email: values.email }),
            });
            antd_1.message.success(`POST başarılı (${response.status})`);
            form.resetFields();
            handleGet();
        }
        catch (error) {
            antd_1.message.error('POST hatası: ' + error.message);
        }
    };
    const handlePut = async (values) => {
        if (!editId || !values.name || !values.email) {
            return antd_1.message.warning('PUT için ID, isim ve e-posta gerekli');
        }
        try {
            const response = await fetch(`${API_URL}/${editId}`, {
                method: 'PUT',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ name: values.name, email: values.email }),
            });
            antd_1.message.success(`PUT başarılı (${response.status})`);
            setEditId('');
            form.resetFields();
            handleGet();
        }
        catch (error) {
            antd_1.message.error('PUT hatası: ' + error.message);
        }
    };
    const handleDelete = async (id) => {
        try {
            const response = await fetch(`${API_URL}/${id}`, {
                method: 'DELETE',
            });
            antd_1.message.success(`DELETE başarılı (${response.status})`);
            handleGet();
        }
        catch (error) {
            antd_1.message.error('DELETE hatası: ' + error.message);
        }
    };
    return ((0, jsx_runtime_1.jsxs)(Container, { children: [(0, jsx_runtime_1.jsxs)(antd_1.Card, { bordered: true, children: [(0, jsx_runtime_1.jsx)(Title, { level: 3, children: "\uD83E\uDDFE CRUD Kullan\u0131c\u0131 Formu" }), (0, jsx_runtime_1.jsxs)(antd_1.Form, { form: form, layout: "vertical", onFinish: (values) => {
                            if (editId)
                                handlePut(values);
                            else
                                handlePost(values);
                        }, children: [(0, jsx_runtime_1.jsx)(antd_1.Form.Item, { label: "\u0130sim", name: "name", rules: [{ required: true }], children: (0, jsx_runtime_1.jsx)(antd_1.Input, { placeholder: "\u0130sim girin" }) }), (0, jsx_runtime_1.jsx)(antd_1.Form.Item, { label: "E-posta", name: "email", rules: [{ required: true }], children: (0, jsx_runtime_1.jsx)(antd_1.Input, { placeholder: "E-posta girin" }) }), (0, jsx_runtime_1.jsx)(antd_1.Form.Item, { label: "G\u00FCncellenecek ID", children: (0, jsx_runtime_1.jsx)(antd_1.Input, { placeholder: "PUT i\u00E7in ID", value: editId, onChange: (e) => setEditId(e.target.value) }) }), (0, jsx_runtime_1.jsxs)(antd_1.Space, { children: [(0, jsx_runtime_1.jsx)(antd_1.Button, { type: "primary", htmlType: "submit", children: editId ? 'PUT Güncelle' : 'POST Ekle' }), (0, jsx_runtime_1.jsx)(antd_1.Button, { type: "primary", onClick: handleGet, children: "GET Kullan\u0131c\u0131lar" }), (0, jsx_runtime_1.jsx)(antd_1.Button, { danger: true, onClick: () => {
                                            form.resetFields();
                                            setEditId('');
                                        }, children: "Temizle" })] })] })] }), (0, jsx_runtime_1.jsx)(antd_1.Divider, {}), (0, jsx_runtime_1.jsx)(Title, { level: 4, style: { color: 'white' }, children: "\uD83D\uDC65 Kullan\u0131c\u0131 Listesi" }), (0, jsx_runtime_1.jsx)(antd_1.List, { style: { backgroundColor: '#F0F0F0', color: 'white' }, bordered: true, dataSource: users, renderItem: (user) => ((0, jsx_runtime_1.jsx)(antd_1.List.Item, { actions: [
                        (0, jsx_runtime_1.jsx)(antd_1.Button, { danger: true, size: "small", onClick: () => handleDelete(user.id), children: "Sil" }, "delete"),
                        (0, jsx_runtime_1.jsx)(antd_1.Button, { size: "small", onClick: () => {
                                setEditId(user.id);
                                form.setFieldsValue({ name: user.name, email: user.email });
                            }, children: "D\u00FCzenle" }, "edit"),
                    ], children: (0, jsx_runtime_1.jsxs)(Text, { children: ["#", user.id, " - ", user.name, " (", user.email, ")"] }) }, user.id)) })] }));
}
//# sourceMappingURL=Crud.js.map</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="CrudScreen%250AThis%2520module%2520provides%2520a%2520CRUD%2520interface%2520for%2520managing%2520users.module_.html">CrudScreen
This module provides a CRUD interface for managing users.</a></li><li><a href="module-HomePage.html">HomePage</a></li><li><a href="module-Projects.html">Projects</a></li><li><a href="module-educationData.html">educationData</a></li><li><a href="module-navbar.html">navbar</a></li></ul><h3>Global</h3><ul><li><a href="global.html#AppRoutes">AppRoutes</a></li><li><a href="global.html#ContactForm">ContactForm</a></li><li><a href="global.html#MainSections">MainSections</a></li><li><a href="global.html#PORT">PORT</a></li><li><a href="global.html#distDir">distDir</a></li><li><a href="global.html#handlePostRequest">handlePostRequest</a></li><li><a href="global.html#mimeTypes">mimeTypes</a></li><li><a href="global.html#parseRequestBody">parseRequestBody</a></li><li><a href="global.html#saveCSV">saveCSV</a></li><li><a href="global.html#saveNDJSON">saveNDJSON</a></li><li><a href="global.html#server">server</a></li><li><a href="global.html#services">services</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Mon Jul 28 2025 13:24:46 GMT+0300 (GMT+03:00)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
